// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.

import Client from '../Client';

export default class PurgeCache extends Client {
  constructor() {
    super({
      baseUrl: 'https://purge-cache.taskcluster.net/v1',
      exchangePrefix: ''
    });
  }

  // Publish a purge-cache message to purge caches named `cacheName` with
  // `provisionerId` and `workerType` in the routing-key. Workers should
  // be listening for this message and purge caches when they see it.
  purgeCache(...args) {
    const entry = {type:'function',method:'post',route:'/purge-cache/<provisionerId>/<workerType>',query:[],args:['provisionerId','workerType'],name:'purgeCache',stability:'experimental',title:'Purge Worker Cache',description:'Publish a purge-cache message to purge caches named `cacheName` with\n`provisionerId` and `workerType` in the routing-key. Workers should\nbe listening for this message and purge caches when they see it.',scopes:[['purge-cache:<provisionerId>/<workerType>:<cacheName>']],input:'http://schemas.taskcluster.net/purge-cache/v1/purge-cache-request.json#'};

    this.validateMethod(entry, args);
    return this.request(entry, args);
  }

  // This is useful mostly for administors to view
  // the set of open purge requests. It should not
  // be used by workers. They should use the purgeRequests
  // endpoint that is specific to their workerType and
  // provisionerId.
  allPurgeRequests(...args) {
    const entry = {type:'function',method:'get',route:'/purge-cache/list',query:['continuationToken','limit'],args:[],name:'allPurgeRequests',stability:'experimental',title:'All Open Purge Requests',description:'This is useful mostly for administors to view\nthe set of open purge requests. It should not\nbe used by workers. They should use the purgeRequests\nendpoint that is specific to their workerType and\nprovisionerId.',output:'http://schemas.taskcluster.net/purge-cache/v1/all-purge-cache-request-list.json#'};

    this.validateMethod(entry, args);
    return this.request(entry, args);
  }

  // List of caches that need to be purged if they are from before
  // a certain time. This is safe to be used in automation from
  // workers.
  purgeRequests(...args) {
    const entry = {type:'function',method:'get',route:'/purge-cache/<provisionerId>/<workerType>',query:['since'],args:['provisionerId','workerType'],name:'purgeRequests',stability:'experimental',title:'Open Purge Requests for a provisionerId/workerType pair',description:'List of caches that need to be purged if they are from before\na certain time. This is safe to be used in automation from\nworkers.',output:'http://schemas.taskcluster.net/purge-cache/v1/purge-cache-request-list.json#'};

    this.validateMethod(entry, args);
    return this.request(entry, args);
  }

  // Respond without doing anything.
  // This endpoint is used to check that the service is up.
  ping(...args) {
    const entry = {type:'function',method:'get',route:'/ping',query:[],args:[],name:'ping',stability:'stable',title:'Ping Server',description:'Respond without doing anything.\nThis endpoint is used to check that the service is up.'};

    this.validateMethod(entry, args);
    return this.request(entry, args);
  }
}
